import{ag as U,w as y,ah as w,o as A,g as T,C as d,a0 as H,y as R,W as S}from"./index.8c1f32a5.js";function x(){if(window.getSelection!==void 0){const o=window.getSelection();o.empty!==void 0?o.empty():o.removeAllRanges!==void 0&&(o.removeAllRanges(),U.is.mobile!==!0&&o.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const P={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},B=["beforeShow","show","beforeHide","hide"];function C({showing:o,canShow:n,hideOnRouteChange:a,handleShow:s,handleHide:f,processOnMount:M}){const c=T(),{props:l,emit:t,proxy:m}=c;let u;function k(e){o.value===!0?r(e):p(e)}function p(e){if(l.disable===!0||e!==void 0&&e.qAnchorHandled===!0||n!==void 0&&n(e)!==!0)return;const i=l["onUpdate:modelValue"]!==void 0;i===!0&&(t("update:modelValue",!0),u=e,d(()=>{u===e&&(u=void 0)})),(l.modelValue===null||i===!1)&&v(e)}function v(e){o.value!==!0&&(o.value=!0,t("beforeShow",e),s!==void 0?s(e):t("show",e))}function r(e){if(l.disable===!0)return;const i=l["onUpdate:modelValue"]!==void 0;i===!0&&(t("update:modelValue",!1),u=e,d(()=>{u===e&&(u=void 0)})),(l.modelValue===null||i===!1)&&g(e)}function g(e){o.value!==!1&&(o.value=!1,t("beforeHide",e),f!==void 0?f(e):t("hide",e))}function V(e){l.disable===!0&&e===!0?l["onUpdate:modelValue"]!==void 0&&t("update:modelValue",!1):e===!0!==o.value&&(e===!0?v:g)(u)}y(()=>l.modelValue,V),a!==void 0&&w(c)===!0&&y(()=>m.$route.fullPath,()=>{a.value===!0&&o.value===!0&&r()}),M===!0&&A(()=>{V(l.modelValue)});const b={show:p,hide:r,toggle:k};return Object.assign(m,b),b}function D(){let o;const n=T();function a(){o=void 0}return H(a),R(a),{removeTick:a,registerTick(s){o=s,d(()=>{o===s&&(S(n)===!1&&o(),o=void 0)})}}}export{B as a,D as b,C as c,x as d,P as u};
